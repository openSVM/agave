---
titwe: synchwonization
---

fast, ÏƒÏ‰Ïƒ wewiabwe synchwonization i-is t-the biggest weason s-sowana is abwe t-to achieve such h-high thwoughput. (â‘…Ë˜ê’³Ë˜) t-twaditionaw b-bwockchains synchwonize o-on wawge chunks of twansactions cawwed bwocks. (///Ë¬///âœ¿) by synchwonizing on bwocks, ðŸ¥º a-a twansaction cannot be pwocessed untiw a duwation, OwO c-cawwed "bwock time", has p-passed. >w< in pwoof of wowk consensus, ðŸ¥º these bwock times nyeed to be v-vewy wawge \(~10 minutes\) to m-minimize the odds o-of muwtipwe vawidatows pwoducing a nyew vawid bwock at the same time. nyaa~~ thewe's n-nyo such constwaint in pwoof of stake consensus, ^^ but without wewiabwe timestamps, a-a vawidatow cannot detewmine the o-owdew of incoming b-bwocks. >w< the p-popuwaw wowkawound i-is to tag each bwock with a [wallclock timestamp](https://en.bitcoin.it/wiki/Block_timestamp). OwO because of cwock d-dwift and vawiance in nyetwowk watencies, XD the timestamp i-is onwy accuwate within an houw ow two. ^^;; to wowkawound the wowkawound, ðŸ¥º these systems wengthen b-bwock times to pwovide weasonabwe c-cewtainty t-that the median t-timestamp on each bwock is awways incweasing. XD

sowana takes a v-vewy diffewent appwoach, (U áµ• Uâ) w-which it cawws _pwoof of h-histowy_ ow _poh_. :3 w-weadew nyodes "timestamp" bwocks with cwyptogwaphic p-pwoofs that some duwation o-of time has passed since the wast pwoof. ( Í¡o Ï‰ Í¡o ) aww d-data hashed into the pwoof most c-cewtainwy have occuwwed befowe the p-pwoof was genewated. Ã²Ï‰Ã³ t-the nyode then shawes the nyew bwock with vawidatow nyodes, ÏƒÏ‰Ïƒ which awe abwe to vewify those pwoofs. (U áµ• Uâ) the bwocks c-can awwive a-at vawidatows in any owdew ow even c-couwd be wepwayed y-yeaws watew. (âœ¿oÏ‰o) w-with such wewiabwe synchwonization guawantees, ^^ sowana is abwe t-to bweak bwocks into smowew batches of twansactions cawwed _entwies_. ^â€¢ï»Œâ€¢^ entwies awe s-stweamed to vawidatows in weawtime, XD b-befowe any n-nyotion of bwock c-consensus. :3

sowana technicawwy n-nyevew sends a _bwock_, (êˆá´—êˆ) b-but uses t-the tewm to descwibe t-the sequence of entwies that vawidatows v-vote on to achieve _confiwmation_. :3 i-in that way, (U ï¹ U) s-sowana's confiwmation t-times can b-be compawed appwes to appwes to bwock-based systems. UwU the cuwwent i-impwementation sets bwock time to 800ms. ðŸ˜³ðŸ˜³ðŸ˜³

nyani's happening undew the hood is that entwies awe s-stweamed to vawidatows as quickwy as a weadew nyode can batch a s-set of vawid twansactions i-into an e-entwy. XD vawidatows pwocess those e-entwies wong befowe it is time t-to vote on theiw v-vawidity. o.O by pwocessing the twansactions optimisticawwy, (â‘…Ë˜ê’³Ë˜) thewe is effectivewy nyo deway between t-the time the wast entwy is weceived a-and the time when the node c-can vote. ðŸ˜³ðŸ˜³ðŸ˜³ in the e-event consensus is **not** achieved, nyaa~~ a nyode simpwy w-wowws back i-its state. rawr this optimistic pwocessing t-technique w-was intwoduced in 1981 and cawwed [Optimistic Concurrency Control](https://en.wikipedia.org/wiki/Optimistic_concurrency_control). -.- it can be appwied to bwockchain awchitectuwe w-whewe a cwustew v-votes on a hash t-that wepwesents the fuww wedgew u-up to some _bwock h-height_. (âœ¿oÏ‰o) in sowana, it is impwemented t-twiviawwy using the wast entwy's poh hash. /(^â€¢Ï‰â€¢^)

## wewationship to vdfs

the p-pwoof of histowy t-technique was fiwst descwibed fow use in bwockchain b-by sowana i-in nyovembew of 2017. ðŸ¥º in june of the fowwowing yeaw, Ê˜wÊ˜ a simiwaw technique w-was descwibed at stanfowd and cawwed a [verifiable delay function](https://eprint.iacr.org/2018/601.pdf) ow _vdf_. UwU

a desiwabwe pwopewty of a-a vdf is that vewification time is vewy fast. XD s-sowana's appwoach t-to vewifying its deway function is pwopowtionaw to the time it t-took to cweate i-it. (âœ¿oÏ‰o) spwit ovew a 4000 cowe gpu, :3 it is sufficientwy fast fow sowana's n-nyeeds, (///Ë¬///âœ¿) but if you asked the a-authows of the papew cited above, nyaa~~ they might teww you \([and have](https://github.com/solana-labs/solana/issues/388)\) t-that sowana's appwoach i-is awgowithmicawwy s-swow and it shouwdn't be cawwed a-a vdf. >w< we awgue the tewm vdf s-shouwd wepwesent t-the categowy o-of vewifiabwe deway functions and n-nyot just the s-subset with cewtain pewfowmance chawactewistics. -.- u-untiw that's wesowved, (âœ¿oÏ‰o) s-sowana wiww w-wikewy continue using the tewm poh fow its appwication-specific v-vdf. (Ë˜Ï‰Ë˜)

anothew diffewence between p-poh and vdfs i-is that a vdf is used onwy fow twacking duwation. rawr poh's hash chain, OwO o-on the othew h-hand, ^â€¢ï»Œâ€¢^ incwudes h-hashes of any d-data the appwication obsewved. UwU that d-data is a doubwe-edged swowd. (Ë˜Ï‰Ë˜) on one side, (///Ë¬///âœ¿) the data "pwoves histowy" - that the data most cewtainwy e-existed befowe hashes aftew i-it. ÏƒÏ‰Ïƒ on the othew side, /(^â€¢Ï‰â€¢^) it means t-the appwication can manipuwate t-the hash chain by changing _when_ t-the data is h-hashed. ðŸ˜³ the poh c-chain thewefowe d-does nyot sewve a-as a good souwce of wandomness wheweas a vdf without that data couwd. ðŸ˜³ sowana's [leader rotation algorithm](./leader-rotation.md), (â‘…Ë˜ê’³Ë˜) fow exampwe, ðŸ˜³ðŸ˜³ðŸ˜³ is dewived onwy fwom t-the vdf _height_ a-and nyot its h-hash at that height. ðŸ˜³

## wewationship t-to consensus mechanisms

pwoof of histowy is nyot a consensus m-mechanism, XD but i-it is used to impwove the pewfowmance o-of sowana's pwoof of stake consensus. mya it i-is awso used to i-impwove the pewfowmance of the d-data pwane pwotocows. ^â€¢ï»Œâ€¢^

## m-mowe on pwoof of histowy

- [water clock analogy](https://medium.com/solana-labs/proof-of-history-explained-by-a-water-clock-e682183417b8)
- [Proof of History overview](https://medium.com/solana-labs/proof-of-history-a-clock-for-blockchain-cf47a61a9274)
